/**
 * Jym Logo Component
 *
 * A flexible logo component with theme variants, sizes, and customization options.
 *
 * @example
 * ```tsx
 * // Basic usage with default theme
 * <Logo size="md" />
 *
 * // Different themes
 * <Logo size="lg" theme="dark" />
 * <Logo size="sm" theme="light" />
 * <Logo theme="monochrome" className="text-blue-500" />
 *
 * // Icon only variant
 * <Logo iconOnly size="xs" />
 *
 * // Custom colors (overrides theme)
 * <Logo logoColor="#ff0000" textColor="#000000" />
 *
 * // With custom sizing (bypasses size presets)
 * <Logo className="h-20" />
 * ```
 */

import type { SVGProps } from "react";
import { forwardRef } from "react";
import { cn } from "@/lib/utils";

// Color themes for the logo
const logoThemes = {
  default: {
    logo: "#69E3C6", // Mint green
    text: "#F6F2EE", // Cream
  },
  dark: {
    logo: "#69E3C6", // Mint green
    text: "#F6F2EE", // White
  },
  light: {
    logo: "#69E3C6", // Dark green
    text: "#003B3F", // Dark gray
  },
  monochrome: {
    logo: "currentColor",
    text: "currentColor",
  },
} as const;

type LogoTheme = keyof typeof logoThemes;

interface LogoProps extends Omit<SVGProps<SVGSVGElement>, "fill"> {
  /**
   * Theme variant for the logo colors
   * @default "default"
   */
  theme?: LogoTheme;
  /**
   * Custom logo mark color (overrides theme)
   */
  logoColor?: string;
  /**
   * Custom text color (overrides theme)
   */
  textColor?: string;
  /**
   * Size preset for common logo sizes
   */
  size?: "xs" | "sm" | "md" | "lg" | "xl" | "2xl";
  /**
   * Show only the logo mark without text
   */
  iconOnly?: boolean;
  /**
   * Additional CSS classes
   */
  className?: string;
}

// Size mappings - using height only, let SVG aspect ratio handle width
const sizeClasses = {
  xs: "h-4",
  sm: "h-6",
  md: "h-8",
  lg: "h-10",
  xl: "h-12",
  "2xl": "h-16",
};

const Logo = forwardRef<SVGSVGElement, LogoProps>(
  (
    {
      theme = "default",
      logoColor: customLogoColor,
      textColor: customTextColor,
      size,
      iconOnly = false,
      className,
      ...props
    },
    ref
  ) => {
    const themeColors = logoThemes[theme];
    const logoColor = customLogoColor ?? themeColors.logo;
    const textColor = customTextColor ?? themeColors.text;

    // Generate unique IDs for accessibility
    const titleId = `logo-title-${Math.random().toString(36).substr(2, 9)}`;

    // Handle sizing - use height only, SVG viewBox maintains aspect ratio automatically
    const sizeClass = size ? sizeClasses[size] : "";
    const svgClassName = cn(sizeClass, className);

    if (iconOnly) {
      return (
        <svg
          className={svgClassName}
          fill="none"
          ref={ref}
          viewBox="0 0 110 165"
          xmlns="http://www.w3.org/2000/svg"
          {...props}
        >
          <title>Jym Logo</title>
          <path
            d="M85.114 87.083 24.252 36.646a1.76 1.76 0 0 1-.274-.281c-3.684-4.563-.917-6.542 3.57-8.089 6.89-2.38 18.102-5.526 25.21-6.98 2.239-.457 3.42-1.15 5.316.334.239.188.43.427.56.698l29.433 62.443c.876 1.864-1.373 3.625-2.953 2.312ZM105.289 76.458 72.602 6.917a1.865 1.865 0 0 1-.187-.834c.088-4.729 2.953-5.442 7.228-4.968 6.87.76 16.74 2.49 23.511 3.99 7.622 1.687 5.622 6.801 5.762 13.28.419 19.063.077 38.178.02 57.256-.005 2.052-2.777 2.672-3.647.817ZM2.036 87.662a1.72 1.72 0 0 1-.725-.37C-.13 85.979-.7 82.12 1.28 80.974l20.708-17.958a1.911 1.911 0 0 1 1.047-.459l2.207-.24a1.892 1.892 0 0 1 1.435.438l48.298 40.443c1.575 1.323.27 3.87-1.715 3.344L2.036 87.662ZM67.312 121.662c1.974.526 1.876 3.375-.135 3.76l-49.903 9.484c-2.897.401-5.099-.948-4.69-3.937.032-.234.12-.453.24-.656 3.118-5.339 4.921-12.667 8.025-17.766.414-.677 2.18-2.625 2.818-2.458l43.65 11.573h-.005ZM69.053 144.235l-21.994 15.422c-.818.573-1.974.442-2.58-.355 0-.005-.01-.01-.015-.02-.44-.589-.72-11.771-.472-12.985.114-.562.171-.989.73-1.291l22.88-4.25c2.031-.375 3.14 2.291 1.446 3.479h.005Z"
            fill={logoColor}
          />
        </svg>
      );
    }

    return (
      <svg
        className={svgClassName}
        fill="none"
        ref={ref}
        viewBox="0 0 601 165"
        xmlns="http://www.w3.org/2000/svg"
        {...props}
      >
        <title>Jym Logo</title>
        {/* Logo mark */}
        <path
          d="M85.114 87.083 24.252 36.646a1.76 1.76 0 0 1-.274-.281c-3.684-4.563-.917-6.542 3.57-8.089 6.89-2.38 18.102-5.526 25.21-6.98 2.239-.457 3.42-1.15 5.316.334.239.188.43.427.56.698l29.433 62.443c.876 1.864-1.373 3.625-2.953 2.312ZM105.289 76.458 72.602 6.917a1.865 1.865 0 0 1-.187-.834c.088-4.729 2.953-5.442 7.228-4.968 6.87.76 16.74 2.49 23.511 3.99 7.622 1.687 5.622 6.801 5.762 13.28.419 19.063.077 38.178.02 57.256-.005 2.052-2.777 2.672-3.647.817ZM2.036 87.662a1.72 1.72 0 0 1-.725-.37C-.13 85.979-.7 82.12 1.28 80.974l20.708-17.958a1.911 1.911 0 0 1 1.047-.459l2.207-.24a1.892 1.892 0 0 1 1.435.438l48.298 40.443c1.575 1.323.27 3.87-1.715 3.344L2.036 87.662ZM67.312 121.662c1.974.526 1.876 3.375-.135 3.76l-49.903 9.484c-2.897.401-5.099-.948-4.69-3.937.032-.234.12-.453.24-.656 3.118-5.339 4.921-12.667 8.025-17.766.414-.677 2.18-2.625 2.818-2.458l43.65 11.573h-.005ZM69.053 144.235l-21.994 15.422c-.818.573-1.974.442-2.58-.355 0-.005-.01-.01-.015-.02-.44-.589-.72-11.771-.472-12.985.114-.562.171-.989.73-1.291l22.88-4.25c2.031-.375 3.14 2.291 1.446 3.479h.005Z"
          fill={logoColor}
        />
        {/* Text */}
        <path
          d="M139.919 123.609v-8.297a30.67 30.67 0 0 0 6.119.651c5.839 0 8.346-3.635 8.346-9.88V59.109h10.383v47.349c0 10.813-5.191 18.177-16.134 18.177-4.17 0-7.419-.651-8.714-1.026Zm14.279-80.161h10.756v10.255h-10.756V43.448ZM178.487 123.422v-8.203c1.3.375 3.429.932 5.751.932 4.823 0 7.046-2.422 10.476-11h-2.503l-19.843-46.042h11.963l14.559 35.51h.186l12.89-35.51h10.202l-17.429 46.974c-5.098 13.797-9.549 18.547-18.636 18.547-3.523 0-6.306-.745-7.606-1.213l-.01.005ZM229.297 59.11h10.383l-.368 12.114h.093c2.042-7.922 7.606-12.865 15.947-12.865 8.901 0 14.652 4.662 15.761 12.115h.093c1.669-7.458 7.233-12.115 15.948-12.115 10.201 0 16.04 6.62 16.04 17.428v29.359h-10.383V78.115c0-6.709-3.243-10.813-9.455-10.813-7.233 0-11.87 5.406-11.87 15.005v22.834h-10.383V77.927c0-6.526-3.429-10.625-9.642-10.625-7.046 0-11.776 5.5-11.776 15.38v22.464h-10.383V59.104l-.005.005ZM314.877 93.037h10.476v12.114h-10.476V93.037ZM336.104 82.13c0-14.724 9.181-23.765 22.993-23.765 12.798 0 21.139 7.458 21.139 19.666h-9.362c-.093-6.895-4.544-11.088-11.497-11.088-7.973 0-12.89 5.687-12.89 15.193 0 9.505 4.818 15.192 12.517 15.192s11.87-4.099 11.963-10.906h9.362c0 12.302-8.714 19.479-21.786 19.479-13.072 0-22.439-9.041-22.439-23.765v-.006ZM388.215 82.224c0-14.724 9.367-23.86 23.921-23.86 14.553 0 24.014 9.136 24.014 23.86s-9.368 23.677-24.014 23.677c-14.647 0-23.921-9.041-23.921-23.677Zm37.552 0c0-9.411-5.191-15.286-13.631-15.286-8.44 0-13.538 5.87-13.538 15.286 0 9.417 5.098 15.1 13.538 15.1 8.44 0 13.631-5.777 13.631-15.1ZM441.434 91.917c0-6.99 4.912-12.49 17.155-12.49h16.968v-3.26c0-6.896-3.99-9.974-12.051-9.974-7.047 0-11.036 2.703-11.036 7.828 0 .281 0 1.026.093 1.77h-9.548a22.897 22.897 0 0 1-.187-2.703c0-9.229 7.974-14.729 21.046-14.729 13.905 0 22.066 6.62 22.066 18.735v28.057h-10.383c.186-2.234.461-6.432.461-10.161h-.093c-1.482 6.802-6.953 10.906-17.062 10.906-10.108 0-17.429-5.031-17.429-13.98Zm34.118-5.313v-.838h-16.041c-5.932 0-8.528 2.052-8.528 5.687 0 4.193 3.71 6.62 10.015 6.62 8.994 0 14.559-4.38 14.559-11.464l-.005-.005ZM494.468 82.13c0-14.724 9.18-23.765 22.993-23.765 12.797 0 21.139 7.458 21.139 19.666h-9.363c-.093-6.895-4.543-11.088-11.496-11.088-7.974 0-12.891 5.687-12.891 15.193 0 9.505 4.819 15.192 12.518 15.192 7.699 0 11.869-4.099 11.963-10.906h9.362c0 12.302-8.715 19.479-21.786 19.479-13.072 0-22.439-9.041-22.439-23.765v-.006ZM548.247 40.563h10.382v20.88c0 2.234-.186 7.552-.279 10.067h.093c2.409-8.39 8.347-13.14 19.102-13.14 11.59 0 18.73 6.62 18.73 17.99v28.801h-10.383V78.693c0-7.271-4.083-11.37-12.331-11.37-9.181 0-14.926 5.687-14.926 16.031v21.813h-10.383V40.573l-.005-.01Z"
          fill={textColor}
        />
      </svg>
    );
  }
);

Logo.displayName = "Logo";

export default Logo;
export type { LogoProps, LogoTheme };
export { logoThemes };
